@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
  
    <!DOCTYPE html>
    <html>

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="Dashboard">
        <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
        <title>Novo - Providers Portal</title>
        <!-- Favicons -->

        <link href="~/img/icon.png" rel="icon">
        <!-- Bootstrap core CSS -->
        <link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!--external css-->
        <link href="~/lib/font-awesome/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="~/css/zabuto_calendar.css">
        <link rel="stylesheet" type="text/css" href="~/lib/gritter/css/jquery.gritter.css">
        <!-- Custom styles for this template -->
        <link href="~/css/style.css" rel="stylesheet">
        <link href="~/css/style-responsive.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">

    </head>


    <body>
        <section id="container">
            <!-- **********************************************************************************************************************************************************
                TOP BAR CONTENT & NOTIFICATIONS
                *********************************************************************************************************************************************************** -->
            <!--header start-->
            <header class="header black-bg" style="	background-image: linear-gradient(to left, #337ab7, #000);	background-position: top left;	background-size: 100%;	background-repeat: repeat;">
                <!--logo start-->
                <a href="index" class="logo"><img alt="avatar" src="~/img/logo.png" class="w-25 h-25" width="200"></a>
                <!--logo end-->
                <div class="nav notify-row" id="top_menu">
                    <!--  notification start -->
                    <!--  notification end -->
                </div>
                <div class="top-menu">
                    <ul class="nav pull-right top-menu">
                        @if (SignInManager.IsSignedIn(User))
                        {
                            <form asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "DiagnosisDetails", new { area = "" })" method="post" id="logoutForm" class="navbar-right">
                                <ul class="nav navbar-nav ">

                                    <li>
                                        <button type="submit" class="btn btn-danger navbar-btn navbar-link"><i class="fa fa-sign-out"></i> Logout</button>
                                    </li>
                                </ul>
                            </form>
                        }
                        else
                        {
                            <ul class="nav navbar-nav navbar-right">
                                <li><a asp-area="Identity" asp-page="/Account/Register">Register</a></li>
                                <li><a asp-area="Identity" asp-page="/Account/Login">Login</a></li>
                            </ul>
                        }
                    </ul>
                </div>
            </header>
            <!--header end-->
            <!-- **********************************************************************************************************************************************************
                MAIN SIDEBAR MENU
                *********************************************************************************************************************************************************** -->
            <!--sidebar start--><br>
            <aside>

                <div id="sidebar" class="nav-collapse" style="	background-image: linear-gradient(to bottom, #337ab7, rgba(0,0,0,0.8));	background-position: top left;	background-size: 100%;	background-repeat: repeat;">
                    <!-- sidebar menu start-->
                    <ul class="sidebar-menu" id="nav-accordion">
                        <p class="centered"><a href="profile"><img src="~/img/user.png" class="img-circle" width="80"></a></p>
                        @{
                            var user = await UserManager.GetUserAsync(User);

                        }

                        @if (user == null)
                        {
                            <h5 class="centered">Hello Guest</h5>
                        }
                        else
                        {
                            <h5 class="centered">Hello @user.FullName!</h5>
                        }

                        @if (user.FullName == "Victor Akinmejiwa")
                        {

                            <li class="sub-menu">
                                <a href="~/AdminDiagnosis/">
                                    <i class="fa fa-calendar"></i>
                                    <span>View Appointment</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="~/AminDiagnosis/Profile">
                                    <i class="fa fa-user"></i>
                                    <span>User's Profile</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="Support">
                                    <i class="fa fa-support"></i>
                                    <span>Support</span>
                                </a>
                            </li>
                        }
                        else
                        {
                            <li class="sub-menu">
                                <a class="sub-menu" href="~/DiagnosisDetails/Create">
                                    <i class="fa fa-address-card"></i>
                                    <span>Create Appointment</span>
                                </a>
                            </li>

                            <li class="sub-menu">
                                <a href="~/DiagnosisDetails/">
                                    <i class="fa fa-calendar"></i>
                                    <span>View Appointment</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="~/DiagnosisDetails/Profile">
                                    <i class="fa fa-user"></i>
                                    <span>User's Profile</span>
                                </a>
                            </li>
                            <li class="sub-menu">
                                <a href="Support">
                                    <i class="fa fa-support"></i>
                                    <span>Support</span>
                                </a>
                            </li>
                        }


                    </ul>
                    <!-- sidebar menu end-->
                </div>
            </aside>



            <partial name="_CookieConsentPartial" />


            @RenderBody()
            <footer class="site-footer" style="	background-image: linear-gradient(to bottom, #000, rgba(0,0,0,0.8));	background-position: top left;	background-size: 100%;	background-repeat: repeat;">
                <div class="text-center">
                    <p>Copyrights © 2019&nbsp;<b>Novo Health Africa</b>. All Rights Reserved </p>
                    <a href="index.html#" class="go-top">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>
            </footer>
            <!--footer end-->
        </section>
        <!-- js placed at the end of the document so the pages load faster -->
        <script src="~/lib/jquery/jquery.min.js"></script>
        <script src="~/lib/bootstrap/js/bootstrap.min.js"></script>
        <script class="include" type="text/javascript" src="~/lib/jquery.dcjqaccordion.2.7.js"></script>
        <script src="~/lib/jquery.scrollTo.min.js"></script>
        <script src="~/lib/jquery.nicescroll.js" type="text/javascript"></script>
        <script src="~/lib/jquery.sparkline.js"></script>
        <!--common script for all pages-->
        <script src="~/lib/common-scripts.js"></script>
        <script type="text/javascript" src="~/lib/gritter/js/jquery.gritter.js"></script>

        <script type="text/javascript" src="~/lib/gritter-conf.js"></script>
        <!--script for this page-->
        <script src="~/lib/sparkline-chart.js"></script>
        <script src="~/lib/zabuto_calendar.js"></script>
        <environment include="Development">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
            <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.serializeJSON/2.9.0/jquery.serializejson.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
            <script src="https://kit.fontawesome.com/d58846ad03.js"></script>
        </environment>
        <environment exclude="Development">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
            <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.serializeJSON/2.9.0/jquery.serializejson.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
            <script type="text/javascript" src="https://kit.fontawesome.com/d58846ad03.js"></script>

            <script src="~/lib/chart-master/Chart.js"></script>
            <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
            <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
            <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
            <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

        </environment>
        <script type="text/javascript">

            $(document).ready(function () {
                var unique_id = $.gritter.add({
                    // (string | mandatory) the heading of the notification
                    title: 'Welcome to Novo Health Africa!',
                    // (string | mandatory) the text inside the notification
                    text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo.',
                    // (string | optional) the image to display on the left
                    image: 'img/ui-sam.jpg',
                    // (bool | optional) if you want it to fade out on its own or just sit there
                    sticky: false,
                    // (int | optional) the time you want it to be alive for before fading out
                    time: 8000,
                    // (string | optional) the class name you want to apply to that specific message
                    class_name: 'my-sticky-class'
                });
                return false;
            });

            $(document).ready(function () {
                $("#date-popover").popover({
                    html: true,
                    trigger: "manual"
                });
                $("#date-popover").hide();
                $("#date-popover").click(function (e) {
                    $(this).hide();
                });
                $("#my-calendar").zabuto_calendar({
                    action: function () {
                        return myDateFunction(this.id, false);
                    },
                    action_nav: function () {
                        return myNavFunction(this.id);
                    },
                    ajax: {
                        url: "show_data.php?action=1",
                        modal: true
                    },
                    legend: [{
                        type: "text",
                        label: "Special event",
                        badge: "00"
                    }, {
                        type: "block",
                        label: "Regular event",
                    }]
                });
            });

            function myNavFunction(id) {
                $("#date-popover").hide();
                var nav = $("#" + id).data("navigation");
                var to = $("#" + id).data("to");
                console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
            }
        </script>
        <script src="~/js/site.js" asp-append-version="true"></script>

        @RenderSection("Scripts", required: false)
    </body>

</html>
