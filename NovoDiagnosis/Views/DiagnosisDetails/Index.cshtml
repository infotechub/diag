@model IEnumerable<NovoDiagnosis.Models.DiagnosisDetails>
@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{

    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">

<!--main content start-->
<section id="main-content">
    <section class="wrapper">
        <div class="row mb">
            <div class="col-lg-12">
                <!-- /form-panel -->
                <h3 align="centre" class="text-center">Annual Medical Examination</h3>

                @{
                    var user = await UserManager.GetUserAsync(User);

                }

                <div class="row mb">

                    <div class="col-md-12">
                        <!-- page start-->
                        <div class="content-panel border rounded">
                            <div class="adv-table">
                                <br /><br /><br /><br /><br />
                                @if (SignInManager.IsSignedIn(User))
                                {
                                    <h4 align="center">Appointment List for @user.FullName</h4>
                                }
                                else
                                {
                                    <h4 align="center">Kindly Sign In </h4>
                                }


                                <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="claims" width="70%">
                                    <thead>
                                        <tr>

                                            <th>
                                                @Html.DisplayNameFor(model => model.Provider)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.State)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Email)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.PhoneNumber)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.AppointmentDate)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.AppointmentTime)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Approve)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Reject)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.Recommendation)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.AuthorizationCode)
                                            </th>
                                            <th>
                                                @Html.DisplayNameFor(model => model.CompletedAnnualMedical)
                                            </th>

                                            <th>
                                                @Html.DisplayNameFor(model => model.Diagnosis)
                                            </th>


                                            <th></th>


                                        </tr>
                                    </thead>

                                    <tbody>
                                        @foreach (var item in Model)
                                        {
                                        <tr>

                                            <td>
                                                @Html.DisplayFor(modelItem => item.Provider)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.State)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Email)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.PhoneNumber)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.AppointmentDate)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.AppointmentTime)
                                            </td>
                                            <td>

                                                @{
                                                    if (item.Approve == false)
                                                    {
                                                        <p align="center">No</p>
                                                    }
                                                    else
                                                    {
                                                        <p align="center">Yes</p>
                                                    }
                                                }
                                            </td>
                                            <td>

                                                @{
                                                    if (item.Reject == false)
                                                    {
                                                        <p align="center">No</p>
                                                    }
                                                    else
                                                    {
                                                        <p align="center">Yes</p>
                                                    }
                                                }
                                            </td>

                                            <td>
                                                @Html.DisplayFor(modelItem => item.Recommendation)
                                            </td>
                                            <td>
                                                @{
                                                    if (item.AuthorizationCode == null)
                                                    {
                                                        <p align="center">No Code</p>
                                                    }
                                                    else
                                                    {
                                                        @Html.DisplayFor(modelItem => item.AuthorizationCode)
                                                    }
                                                }
                                            </td>
                                            <td>
                                                @{
                                                    if (item.CompletedAnnualMedical == false)
                                                    {
                                                        <p align="center">No</p>
                                                    }
                                                    else
                                                    {
                                                        <p align="center">Yes</p>
                                                    }
                                                }

                                            </td>
                                           
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Diagnosis)
                                            </td>





                                            <td>
                                                <a asp-action="Edit" asp-route-id="@item.Id" class='btn btn-facebook text-white' style='cursor:pointer; width:auto;'><i class="fa fa-pencil"></i> Edit</a>
                                            </td>

                                        </tr>

                                        }

                                    </tbody>
                                </table>
                                <br /><br /><br /><br /><br />
                                <br /><br /><br /><br /><br />
                                <br /><br /><br /><br /><br />
                                <br /><br /><br /><br /><br />
                            </div>


                        </div>
                    </div>
                </div>

            </div>

        </div>


        </div>

    </section>
</section>


@section Scripts{
    <script src="~/js/claim.js"></script>
}

<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">
    var dataTable;
    $(document).ready(function () {
        loadDataTable();
    });
    (function ($) {
        $("#claims").DataTable({
            ajax: {


            });
    })(jQuery);


</script>


